{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '51317900-f0372c6e5a84e0989a980511e';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function getImagesByQuery(query) {\n     try {\n     const params = {\n          key: API_KEY,\n          q: query,\n          image_type: 'photo',\n          orientation: 'horizontal',\n          safesearch: true,\n          per_page: 12,\n     };\n     \n     const response = await axios.get(BASE_URL, { params });\n     return response.data;\n     } catch (error) {\n          throw new Error('Failed to fetch images');\n     }\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryContainer = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nlet lightbox = new SimpleLightbox('.gallery a', {\n     captionsData: 'alt',\n     captionDelay: 250,\n     \n});\n\nexport function createGallery(images) {\n     const markup = images\n     .map(\n          image => `\n          <li class=\"gallery-item\">\n          <a href=\"${image.largeImageURL}\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n          </a>\n          <div class=\"info\">\n          <p>üëç ${image.likes}</p>\n          <p>üëÅÔ∏è ${image.views}</p>\n          <p>üí¨ ${image.comments}</p>\n          <p>‚¨áÔ∏è ${image.downloads}</p>\n          </div>\n          </li>`\n     )\n     .join('');\n     \n     galleryContainer.insertAdjacentHTML('beforeend', markup);\n     \n     const imagesInGallery = galleryContainer.querySelectorAll('img');\n     const promises = Array.from(imagesInGallery).map(img => {\n          return new Promise(resolve => {\n               if (img.complete) resolve();\n               else {\n                    img.onload = () => resolve();\n                    img.onerror = () => resolve();\n               }\n          });\n     });\n     \n     Promise.all(promises).then(() => {\n          lightbox.refresh();\n          hideLoader();\n\n     });\n}\n\n\nexport function clearGallery() {\n     galleryContainer.innerHTML = '';\n}\n\n\nexport function showLoader() {\n     loader.classList.remove('hidden');\n     \n}\n\nexport function hideLoader() {\n     loader.classList.add('hidden');\n     \n}\n\n\n","\n\n// iziToast —Å—Ç–∏–ª—ñ\nimport { getImagesByQuery } from './js/pixabay-api.js';\nimport {\n     createGallery,\n     clearGallery,\n     showLoader,\n     hideLoader\n} from './js/render-functions.js';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', async (e) => {\n     e.preventDefault();\n     \n     const query = form.elements['search-text'].value.trim();\n     if (!query) return;\n     \n     clearGallery();\n     showLoader();\n     \n     try {\n          const data = await getImagesByQuery(query);\n          \n          if (data.hits.length === 0) {\n               iziToast.warning({\n                    title: 'Sorry',\n                    message: 'There are no images matching your search query. Please try again!',\n                    position: 'topRight',\n               });\n               return;\n          }\n          \n\n     await createGallery(data.hits);\n     \n} catch (error) {\n     iziToast.error({\n          title: 'Error',\n          message: 'Something went wrong!',\n          position: 'topRight',\n     });\n} finally {\n     hideLoader();\n}\n\n});\n     \n"],"names":["API_KEY","BASE_URL","getImagesByQuery","query","params","axios","galleryContainer","loader","lightbox","SimpleLightbox","createGallery","images","markup","image","imagesInGallery","promises","img","resolve","hideLoader","clearGallery","showLoader","form","e","data","iziToast"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAiBC,EAAO,CACzC,GAAI,CACJ,MAAMC,EAAS,CACV,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACpB,EAGK,OADiB,MAAME,EAAM,IAAIJ,EAAU,CAAE,OAAAG,CAAM,CAAE,GACrC,IACf,MAAe,CACX,MAAM,IAAI,MAAM,wBAAwB,CAC5C,CACN,CClBA,MAAME,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC3C,aAAc,MACd,aAAc,GAEnB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACjC,MAAMC,EAASD,EACd,IACIE,GAAS;AAAA;AAAA,qBAEEA,EAAM,aAAa;AAAA,sBAClBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,kBAG1CA,EAAM,KAAK;AAAA,mBACVA,EAAM,KAAK;AAAA,kBACZA,EAAM,QAAQ;AAAA,kBACdA,EAAM,SAAS;AAAA;AAAA,gBAG3B,EACA,KAAK,EAAE,EAERP,EAAiB,mBAAmB,YAAaM,CAAM,EAEvD,MAAME,EAAkBR,EAAiB,iBAAiB,KAAK,EACzDS,EAAW,MAAM,KAAKD,CAAe,EAAE,IAAIE,GACrC,IAAI,QAAQC,GAAW,CACrBD,EAAI,SAAUC,KAEbD,EAAI,OAAS,IAAMC,IACnBD,EAAI,QAAU,IAAMC,IAExC,CAAW,CACL,EAED,QAAQ,IAAIF,CAAQ,EAAE,KAAK,IAAM,CAC5BP,EAAS,QAAO,EAChBU,GAEV,CAAM,CACN,CAGO,SAASC,GAAe,CAC1Bb,EAAiB,UAAY,EAClC,CAGO,SAASc,GAAa,CACxBb,EAAO,UAAU,OAAO,QAAQ,CAErC,CAEO,SAASW,GAAa,CACxBX,EAAO,UAAU,IAAI,QAAQ,CAElC,CClDA,MAAMc,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAU,MAAOC,GAAM,CACxCA,EAAE,eAAc,EAEhB,MAAMnB,EAAQkB,EAAK,SAAS,aAAa,EAAE,MAAM,OACjD,GAAKlB,EAEL,CAAAgB,IACAC,IAEA,GAAI,CACC,MAAMG,EAAO,MAAMrB,EAAiBC,CAAK,EAEzC,GAAIoB,EAAK,KAAK,SAAW,EAAG,CACvBC,EAAS,QAAQ,CACZ,MAAO,QACP,QAAS,oEACT,SAAU,UAC9B,CAAgB,EACD,MACJ,CAGN,MAAMd,EAAca,EAAK,IAAI,CAElC,MAAgB,CACXC,EAAS,MAAM,CACV,MAAO,QACP,QAAS,wBACT,SAAU,UACpB,CAAM,CACN,QAAU,CACLN,GACL,EAEA,CAAC"}